<div cdkDropListGroup class="flex-container paddins">

    <div class="step-container">
        <h2>To do</h2>

        <div cdkDropList [cdkDropListData]="todo" id="cdkTodoList" class="todo-list" (cdkDropListDropped)="drop($event)">
            <div class="todo-box" *ngFor="let item of todo" cdkDrag>
                <mat-card class="item-card">
                    <mat-card-header>
                        <mat-card-subtitle>Id: {{item.id}}</mat-card-subtitle>
                        <mat-card-title>{{item.titulo}}</mat-card-title>
                    </mat-card-header>
                    <mat-card-content>
                        <p>{{item.conteudo}}</p>
                    </mat-card-content>
                    <mat-card-footer>
                        <div class="flex-container">
                            <button mat-icon-button color="accent" (click)="openDialog(item)">
                                <mat-icon>edit</mat-icon>
                            </button>
                            <button mat-icon-button color="warn" (click)="excluir(item)">
                                <mat-icon>delete</mat-icon>
                            </button>
                            <button mat-icon-button (click)="moveCard(item, 'todo', 'doing')">
                                <mat-icon>navigate_next</mat-icon>
                            </button>
                        </div>
                    </mat-card-footer>
                </mat-card>
            </div>
        </div>
    </div>

    <div class="step-container">
        <h2>Doing</h2>

        <div cdkDropList [cdkDropListData]="doing" id="cdkDoingList" class="todo-list" (cdkDropListDropped)="drop($event)">
            <div class="todo-box" *ngFor="let item of doing" cdkDrag>
                <mat-card class="item-card">
                    <mat-card-header>
                        <mat-card-subtitle>Id: {{item.id}}</mat-card-subtitle>
                        <mat-card-title>{{item.titulo}}</mat-card-title>
                    </mat-card-header>
                    <mat-card-content>
                        <p>{{item.conteudo}}</p>
                    </mat-card-content>
                    <mat-card-footer>
                        <div class="flex-container">
                            <button mat-icon-button (click)="moveCard(item, 'doing', 'todo')">
                                <mat-icon>navigate_before</mat-icon>
                            </button>
                            <button mat-icon-button color="accent" (click)="openDialog(item)">
                                <mat-icon>edit</mat-icon>
                            </button>
                            <button mat-icon-button color="warn" (click)="excluir(item)">
                                <mat-icon>delete</mat-icon>
                            </button>
                            <button mat-icon-button (click)="moveCard(item, 'doing', 'done')">
                                <mat-icon>navigate_next</mat-icon>
                            </button>
                        </div>
                        <mat-progress-bar color="primary" mode="indeterminate"></mat-progress-bar>
                    </mat-card-footer>
                </mat-card>
            </div>
        </div>
    </div>

    <div class="step-container">
        <h2>Done</h2>

        <div cdkDropList [cdkDropListData]="done" id="cdkDoneList" class="todo-list" (cdkDropListDropped)="drop($event)">
            <div class="todo-box" *ngFor="let item of done" cdkDrag>
                <mat-card class="item-card">
                    <mat-card-header>
                        <mat-card-subtitle>Id: {{item.id}}</mat-card-subtitle>
                        <mat-card-title>{{item.titulo}}</mat-card-title>
                    </mat-card-header>
                    <mat-card-content>
                        <p>{{item.conteudo}}</p>
                    </mat-card-content>
                    <mat-card-footer>
                        <div class="flex-container">
                            <button mat-icon-button (click)="moveCard(item, 'done', 'doing' )">
                                <mat-icon>navigate_before</mat-icon>
                            </button>
                            <button mat-icon-button color="accent" (click)="openDialog(item)">
                                <mat-icon>edit</mat-icon>
                            </button>
                            <button mat-icon-button color="warn" (click)="excluir(item)">
                                <mat-icon>delete</mat-icon>
                            </button>
                        </div>
                        <mat-progress-bar color="accent" value="100" mode="determinate"></mat-progress-bar>
                    </mat-card-footer>
                </mat-card>
            </div>
        </div>
    </div>


</div>


<ng-template cdkConnectedOverlay [cdkConnectedOverlayOpen]="isOpen">
    <button class="fab-buttom" mat-fab color="accent" (click)="openDialog()" cdkOverlayOrigin
        #trigger="cdkOverlayOrigin" aria-label="Example icon button with a bookmark icon">
        <mat-icon>add</mat-icon>
    </button>
</ng-template>